@using Tache.Domain.Entities
@model IEnumerable<Activity>

@{
    ViewBag.CurrentActivity = Model.Where(e => e.Start != null).First();
}

<h2>
    Since <span style="color: lightcoral;">@ViewBag.CurrentActivity.Start.ToShortTimeString()</span> on<br />
    <span style="color: lightpink;">@ViewBag.CurrentActivity.Start.ToLongDateString()</span>,<br />
    you have been <span style="color: royalblue;">@ViewBag.CurrentActivity.Name</span>.
</h2>

@Ajax.ActionLink("Show Chart", "Index", null, new AjaxOptions { HttpMethod="GET", OnSuccess="showChart" }, new { id = "show-chart", onclick = "setupCurrentDate()" })
@*@using (ajax.beginform("index", "day", null, new ajaxoptions { onsuccess = "showchart" }, new { id = "show-chart", onsubmit = "setupcurrentdate()" })) {
    // setup hidden fields for client-side datetime
    @html.hidden("year")
    @html.hidden("month")
    @html.hidden("day")
    <button type="submit" id="showchart">show chart</button>
}*@
<hr />
<h4>I am going to start: </h4>

@Html.Partial("ActivitiesDropDown", Model.Where(a => a.Hide == false && a.Start == null))
@Html.Partial("ActivityCRUD", new Activity())